<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.machineFile org.eventb.core.configuration="org.eventb.core.fwd" org.eventb.core.generated="false" org.eventb.texttools.text_lastmodified="1579023048775" org.eventb.texttools.text_representation="machine PitmanController2_TIME refines PitmanController  sees c1&#10;&#10;variables active_blinkers blinkLeft blinkRight remaining_blinks onCycle engineOn pitmanArmUpDown hazardWarningSwitchOn keyState&#10;  curTime tipStartTime&#10;invariants&#10;  @invTime curTime ∈ ℕ&#10;  @invTip1 tipStartTime ∈ ℕ&#10;  @invTip2 tipStartTime ≤ curTime&#10;events&#10;  event INITIALISATION extends INITIALISATION begin&#10;    @iniTime curTime ≔0&#10;    @iniTipTme tipStartTime ≔0&#10;  end&#10;&#10;  event ENV_Turn_EngineOn_Noblink extends ENV_Turn_EngineOn_Noblink&#10;  end&#10;&#10;  event ENV_Turn_EngineOn_BlinkLeft extends ENV_Turn_EngineOn_BlinkLeft&#10;  end&#10;&#10;  event ENV_Turn_EngineOn_BlinkRight extends ENV_Turn_EngineOn_BlinkRight&#10;  end&#10;&#10;  event ENV_TurnEngineOff_Blink extends ENV_TurnEngineOff_Blink&#10;  end&#10;&#10;  event ENV_TurnEngineOff_Noblink extends ENV_TurnEngineOff_Noblink&#10;  end&#10;&#10;  event ENV_Pitman_Update_Nochange extends ENV_Pitman_Update_Nochange&#10;  end&#10;&#10;  event ENV_Pitman_DirectionBlinkingLeft_Blink extends ENV_Pitman_DirectionBlinkingLeft_Blink&#10;  end&#10;&#10;  event ENV_Pitman_DirectionBlinkingRight_Blink extends ENV_Pitman_DirectionBlinkingRight_Blink&#10;  end&#10;&#10;  event ENV_Pitman_TipBlinkingLeft_Blink extends ENV_Pitman_TipBlinkingLeft_Blink&#10;  begin&#10;    @tip tipStartTime ≔ curTime&#10;  end&#10;&#10;  event ENV_Pitman_TipBlinkingRight_Blink extends ENV_Pitman_TipBlinkingRight_Blink&#10;  begin&#10;    @tip tipStartTime ≔ curTime&#10;  end&#10;&#10;  event ENV_Pitman_Reset_to_Neutral_Nochange extends ENV_Pitman_Reset_to_Neutral_Nochange&#10;  end&#10;&#10;  event ENV_Pitman_Reset_to_Neutral_Noblink extends ENV_Pitman_Reset_to_Neutral_Noblink&#10;  end&#10;&#10;  event ENV_HazardBlinkingOn extends ENV_HazardBlinkingOn&#10;  end&#10;&#10;  event ENV_HazardBlinkingOff extends ENV_HazardBlinkingOff&#10;  end&#10;&#10;  event ENV_HazardBlinkingOff_LeftBlink extends ENV_HazardBlinkingOff_LeftBlink&#10;  end&#10;&#10;  event ENV_HazardBlinkingOff_RightBlink extends ENV_HazardBlinkingOff_RightBlink&#10;  end&#10;&#10;  event TIME_Tip_blinking_Timeout extends TIME_Tip_blinking_Timeout&#10;   when @grdTip curTime ≥ tipStartTime+500&#10;  end&#10;&#10;  event TIME_BlinkerOn extends TIME_BlinkerOn&#10;  any delta&#10;  where @grdDelta delta ∈ 1‥500&#10;        @grdTm (curTime+delta) mod 500 = 0&#10;  then&#10;    @actTm curTime ≔ curTime+delta&#10;  end&#10;&#10;  event TIME_BlinkerOff extends TIME_BlinkerOff&#10;  any delta&#10;  where @grdDelta delta ∈ 1‥500&#10;        @grdTm (curTime+delta) mod 500 = 0&#10;  then&#10;    @actTm curTime ≔ curTime+delta&#10;  end&#10;&#10;  event TIME_Nothing extends TIME_Nothing&#10;  any delta&#10;  where @grdDelta delta ∈ 1‥500&#10;        @grdTm (curTime+delta) mod 500 = 0&#10;  then&#10;    @actTm curTime ≔ curTime+delta&#10;  end&#10;&#10;  event TIME_Passes&#10;  any delta&#10;  where @grdDelta delta ∈ {100}&#10;        @grdTm ∀d·d∈1‥delta ⇒ (curTime+d) mod 500 ≠ 0&#10;  then&#10;    @actTm curTime ≔ curTime+delta&#10;  end&#10;end&#10;" version="5">
<org.eventb.core.refinesMachine name="'" org.eventb.core.target="PitmanController"/>
<org.eventb.core.seesContext name="_SDbeMDa0EeqW9sHxErWLyA" org.eventb.core.target="c1"/>
<org.eventb.core.variable name="_SYTK8jYEEeqmRpe4wS5b2g" org.eventb.core.generated="false" org.eventb.core.identifier="active_blinkers"/>
<org.eventb.core.variable name="_ejFFwTYEEeqmRpe4wS5b2g" org.eventb.core.generated="false" org.eventb.core.identifier="blinkLeft"/>
<org.eventb.core.variable name="_ejFFwjYEEeqmRpe4wS5b2g" org.eventb.core.generated="false" org.eventb.core.identifier="blinkRight"/>
<org.eventb.core.variable name="_IpwzoTYFEeqmRpe4wS5b2g" org.eventb.core.generated="false" org.eventb.core.identifier="remaining_blinks"/>
<org.eventb.core.variable name="_Zick8DbqEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.identifier="onCycle"/>
<org.eventb.core.variable name="_SDcFRDa0EeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.identifier="engineOn"/>
<org.eventb.core.variable name="_gC-iQDa0EeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.identifier="pitmanArmUpDown"/>
<org.eventb.core.variable name="_Pq2LUDa2EeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.identifier="hazardWarningSwitchOn"/>
<org.eventb.core.variable name="_JTrTQDbJEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.identifier="keyState"/>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyB" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="INITIALISATION">
<org.eventb.core.action name="_5OBzoDbvEeqW9sHxErWLyA" org.eventb.core.assignment="curTime ≔0" org.eventb.core.generated="false" org.eventb.core.label="iniTime"/>
<org.eventb.core.action name="_esqYUDbwEeqW9sHxErWLyA" org.eventb.core.assignment="tipStartTime ≔0" org.eventb.core.generated="false" org.eventb.core.label="iniTipTme"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyC" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_Turn_EngineOn_Noblink">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_Turn_EngineOn_Noblink"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyD" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_Turn_EngineOn_BlinkLeft">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_Turn_EngineOn_BlinkLeft"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyE" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_Turn_EngineOn_BlinkRight">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_Turn_EngineOn_BlinkRight"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyF" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_TurnEngineOff_Blink">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_TurnEngineOff_Blink"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyG" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_TurnEngineOff_Noblink">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_TurnEngineOff_Noblink"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyH" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_Pitman_Update_Nochange">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_Pitman_Update_Nochange"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyI" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_Pitman_DirectionBlinkingLeft_Blink">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_Pitman_DirectionBlinkingLeft_Blink"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyJ" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_Pitman_DirectionBlinkingRight_Blink">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_Pitman_DirectionBlinkingRight_Blink"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyK" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_Pitman_TipBlinkingLeft_Blink">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_Pitman_TipBlinkingLeft_Blink"/>
<org.eventb.core.action name="_UFzuYTbwEeqW9sHxErWLyA" org.eventb.core.assignment="tipStartTime ≔ curTime" org.eventb.core.generated="false" org.eventb.core.label="tip"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyL" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_Pitman_TipBlinkingRight_Blink">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_Pitman_TipBlinkingRight_Blink"/>
<org.eventb.core.action name="_UFzuYjbwEeqW9sHxErWLyA" org.eventb.core.assignment="tipStartTime ≔ curTime" org.eventb.core.generated="false" org.eventb.core.label="tip"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyM" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_Pitman_Reset_to_Neutral_Nochange">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_Pitman_Reset_to_Neutral_Nochange"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyN" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_Pitman_Reset_to_Neutral_Noblink">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_Pitman_Reset_to_Neutral_Noblink"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyO" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_HazardBlinkingOn">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_HazardBlinkingOn"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyP" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_HazardBlinkingOff">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_HazardBlinkingOff"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyQ" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_HazardBlinkingOff_LeftBlink">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_HazardBlinkingOff_LeftBlink"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyR" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="ENV_HazardBlinkingOff_RightBlink">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="ENV_HazardBlinkingOff_RightBlink"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyS" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="TIME_Tip_blinking_Timeout">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="TIME_Tip_blinking_Timeout"/>
<org.eventb.core.guard name="_co5JwDbwEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.label="grdTip" org.eventb.core.predicate="curTime ≥ tipStartTime+500"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyT" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="TIME_BlinkerOn">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="TIME_BlinkerOn"/>
<org.eventb.core.parameter name="_5ODBwDbvEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.identifier="delta"/>
<org.eventb.core.guard name="_5ODBwjbvEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.label="grdDelta" org.eventb.core.predicate="delta ∈ 1‥500"/>
<org.eventb.core.guard name="_5ODBwTbvEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.label="grdTm" org.eventb.core.predicate="(curTime+delta) mod 500 = 0"/>
<org.eventb.core.action name="_5ODBwzbvEeqW9sHxErWLyA" org.eventb.core.assignment="curTime ≔ curTime+delta" org.eventb.core.generated="false" org.eventb.core.label="actTm"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyU" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="TIME_BlinkerOff">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="TIME_BlinkerOff"/>
<org.eventb.core.parameter name="_5ODBxDbvEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.identifier="delta"/>
<org.eventb.core.guard name="_5ODBxjbvEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.label="grdDelta" org.eventb.core.predicate="delta ∈ 1‥500"/>
<org.eventb.core.guard name="_5ODBxTbvEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.label="grdTm" org.eventb.core.predicate="(curTime+delta) mod 500 = 0"/>
<org.eventb.core.action name="_5ODBxzbvEeqW9sHxErWLyA" org.eventb.core.assignment="curTime ≔ curTime+delta" org.eventb.core.generated="false" org.eventb.core.label="actTm"/>
</org.eventb.core.event>
<org.eventb.core.event name="_gC-iQDa0EeqW9sHxErWLyV" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="TIME_Nothing">
<org.eventb.core.refinesEvent name="'" org.eventb.core.target="TIME_Nothing"/>
<org.eventb.core.parameter name="_5ODo0DbvEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.identifier="delta"/>
<org.eventb.core.guard name="_5ODo0jbvEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.label="grdDelta" org.eventb.core.predicate="delta ∈ 1‥500"/>
<org.eventb.core.guard name="_5ODo0TbvEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.label="grdTm" org.eventb.core.predicate="(curTime+delta) mod 500 = 0"/>
<org.eventb.core.action name="_5ODo0zbvEeqW9sHxErWLyA" org.eventb.core.assignment="curTime ≔ curTime+delta" org.eventb.core.generated="false" org.eventb.core.label="actTm"/>
</org.eventb.core.event>
<org.eventb.core.variable name="_5ODo1DbvEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.identifier="curTime"/>
<org.eventb.core.invariant name="_5ODo1TbvEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.label="invTime" org.eventb.core.predicate="curTime ∈ ℕ"/>
<org.eventb.core.variable name="_UF08gDbwEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.identifier="tipStartTime"/>
<org.eventb.core.invariant name="_fIPhEDbwEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.label="invTip1" org.eventb.core.predicate="tipStartTime ∈ ℕ"/>
<org.eventb.core.invariant name="_UF08gjbwEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.label="invTip2" org.eventb.core.predicate="tipStartTime ≤ curTime"/>
<org.eventb.core.event name="_z5QR4DbwEeqW9sHxErWLyA" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="TIME_Passes">
<org.eventb.core.parameter name="_z5Q48DbwEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.identifier="delta"/>
<org.eventb.core.guard name="_z5Q48TbwEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.label="grdDelta" org.eventb.core.predicate="delta ∈ {100}"/>
<org.eventb.core.guard name="_z5Q48jbwEeqW9sHxErWLyA" org.eventb.core.generated="false" org.eventb.core.label="grdTm" org.eventb.core.predicate="∀d·d∈1‥delta ⇒ (curTime+d) mod 500 ≠ 0"/>
<org.eventb.core.action name="_z5Q48zbwEeqW9sHxErWLyA" org.eventb.core.assignment="curTime ≔ curTime+delta" org.eventb.core.generated="false" org.eventb.core.label="actTm"/>
</org.eventb.core.event>
</org.eventb.core.machineFile>
