{
  "type" : "Trace",
  "name" : "PitmanController_v6",
  "description" : "",
  "trace" : {
    "description" : "",
    "transitionList" : [ {
      "operationName" : "$setup_constants",
      "parameters" : { },
      "outputParameters" : { },
      "destinationStateVariables" : {
        "pitman_direction" : "{(Neutral↦neutral_blink),(Downward5↦left_blink),(Downward7↦left_blink),(Upward5↦right_blink),(Upward7↦right_blink)}",
        "BLINK_DIRECTION" : "{left_blink,right_blink}",
        "PITMAN_TIP_BLINKING" : "{Downward5,Upward5}",
        "LAMP_STATUS" : "{0,100}",
        "lamp_off" : "0",
        "cycleMaxLampStatus" : "{(FALSE↦0),(TRUE↦100)}",
        "lamp_on" : "100",
        "BLINK_CYCLE_COUNTER" : "{-1,0,1,2,3}",
        "PITMAN_DIRECTION_BLINKING" : "{Downward7,Upward7}"
      },
      "destStateNotChanged" : [ ],
      "additionalPredicates" : [ ]
    }, {
      "operationName" : "$initialise_machine",
      "parameters" : { },
      "outputParameters" : { },
      "destinationStateVariables" : {
        "blinkRight" : "0",
        "engineOn" : "FALSE",
        "onCycle" : "FALSE",
        "keyState" : "KeyInsertedOnPosition",
        "pitmanArmUpDown" : "Neutral",
        "remaining_blinks" : "0",
        "active_blinkers" : "∅",
        "hazardWarningSwitchOn" : "switch_off",
        "blinkLeft" : "0"
      },
      "destStateNotChanged" : [ ],
      "additionalPredicates" : [ ]
    }, {
      "operationName" : "ENV_Pitman_Tip_blinking_short",
      "parameters" : {
        "newPos" : "Upward5"
      },
      "outputParameters" : { },
      "destinationStateVariables" : {
        "pitmanArmUpDown" : "Upward5"
      },
      "destStateNotChanged" : [ "blinkRight", "engineOn", "onCycle", "keyState", "remaining_blinks", "active_blinkers", "hazardWarningSwitchOn", "blinkLeft" ],
      "additionalPredicates" : [ ]
    }, {
      "operationName" : "ENV_Pitman_Reset_to_Neutral",
      "parameters" : { },
      "outputParameters" : { },
      "destinationStateVariables" : {
        "pitmanArmUpDown" : "Neutral"
      },
      "destStateNotChanged" : [ "blinkRight", "engineOn", "onCycle", "keyState", "remaining_blinks", "active_blinkers", "hazardWarningSwitchOn", "blinkLeft" ],
      "additionalPredicates" : [ ]
    } ]
  },
  "variableNames" : [ "active_blinkers", "remaining_blinks", "onCycle", "blinkLeft", "blinkRight", "hazardWarningSwitchOn", "pitmanArmUpDown", "keyState", "engineOn" ],
  "machineOperationInfos" : {
    "ENV_Turn_EngineOn" : {
      "operationName" : "ENV_Turn_EngineOn",
      "parameterNames" : [ ],
      "outputParameterNames" : [ ],
      "topLevel" : true,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "BLINK_CYCLE_COUNTER", "BLINK_DIRECTION", "PITMAN_DIRECTION_BLINKING", "active_blinkers", "blinkLeft", "blinkRight", "cycleMaxLampStatus", "engineOn", "hazardWarningSwitchOn", "keyState", "lamp_off", "onCycle", "pitmanArmUpDown", "pitman_direction", "remaining_blinks" ],
      "writtenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "engineOn", "remaining_blinks" ],
      "nonDetWrittenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "remaining_blinks" ],
      "typeMap" : {
        "engineOn" : "boolean",
        "keyState" : "global('KEY_STATE')",
        "pitmanArmUpDown" : "global('PITMAN_POSITION')",
        "remaining_blinks" : "integer",
        "'BLINK_CYCLE_COUNTER'" : "set(integer)",
        "cycleMaxLampStatus" : "set(couple(boolean,integer))",
        "'BLINK_DIRECTION'" : "set(global('DIRECTIONS'))",
        "active_blinkers" : "set(global('DIRECTIONS'))",
        "blinkRight" : "integer",
        "pitman_direction" : "set(couple(global('PITMAN_POSITION'),global('DIRECTIONS')))",
        "'PITMAN_DIRECTION_BLINKING'" : "set(global('PITMAN_POSITION'))",
        "onCycle" : "boolean",
        "lamp_off" : "integer",
        "hazardWarningSwitchOn" : "global('SWITCH_STATUS')",
        "blinkLeft" : "integer"
      }
    },
    "ENV_Turn_EngineOff" : {
      "operationName" : "ENV_Turn_EngineOff",
      "parameterNames" : [ ],
      "outputParameterNames" : [ ],
      "topLevel" : true,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "engineOn", "hazardWarningSwitchOn", "lamp_off", "remaining_blinks" ],
      "writtenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "engineOn", "remaining_blinks" ],
      "nonDetWrittenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "remaining_blinks" ],
      "typeMap" : {
        "blinkRight" : "integer",
        "engineOn" : "boolean",
        "remaining_blinks" : "integer",
        "lamp_off" : "integer",
        "active_blinkers" : "set(global('DIRECTIONS'))",
        "hazardWarningSwitchOn" : "global('SWITCH_STATUS')",
        "blinkLeft" : "integer"
      }
    },
    "ENV_Pitman_DirectionBlinking" : {
      "operationName" : "ENV_Pitman_DirectionBlinking",
      "parameterNames" : [ "newPos" ],
      "outputParameterNames" : [ ],
      "topLevel" : true,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "BLINK_CYCLE_COUNTER", "BLINK_DIRECTION", "PITMAN_DIRECTION_BLINKING", "active_blinkers", "blinkLeft", "blinkRight", "cycleMaxLampStatus", "engineOn", "hazardWarningSwitchOn", "lamp_off", "onCycle", "pitmanArmUpDown", "pitman_direction", "remaining_blinks" ],
      "writtenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "pitmanArmUpDown", "remaining_blinks" ],
      "nonDetWrittenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "remaining_blinks" ],
      "typeMap" : {
        "engineOn" : "boolean",
        "pitmanArmUpDown" : "global('PITMAN_POSITION')",
        "remaining_blinks" : "integer",
        "'BLINK_CYCLE_COUNTER'" : "set(integer)",
        "cycleMaxLampStatus" : "set(couple(boolean,integer))",
        "'BLINK_DIRECTION'" : "set(global('DIRECTIONS'))",
        "active_blinkers" : "set(global('DIRECTIONS'))",
        "newPos" : "global('PITMAN_POSITION')",
        "blinkRight" : "integer",
        "pitman_direction" : "set(couple(global('PITMAN_POSITION'),global('DIRECTIONS')))",
        "'PITMAN_DIRECTION_BLINKING'" : "set(global('PITMAN_POSITION'))",
        "onCycle" : "boolean",
        "lamp_off" : "integer",
        "hazardWarningSwitchOn" : "global('SWITCH_STATUS')",
        "blinkLeft" : "integer"
      }
    },
    "ENV_Pitman_Reset_to_Neutral" : {
      "operationName" : "ENV_Pitman_Reset_to_Neutral",
      "parameterNames" : [ ],
      "outputParameterNames" : [ ],
      "topLevel" : true,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "hazardWarningSwitchOn", "lamp_off", "pitmanArmUpDown", "remaining_blinks" ],
      "writtenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "pitmanArmUpDown", "remaining_blinks" ],
      "nonDetWrittenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "remaining_blinks" ],
      "typeMap" : {
        "blinkRight" : "integer",
        "pitmanArmUpDown" : "global('PITMAN_POSITION')",
        "remaining_blinks" : "integer",
        "lamp_off" : "integer",
        "active_blinkers" : "set(global('DIRECTIONS'))",
        "hazardWarningSwitchOn" : "global('SWITCH_STATUS')",
        "blinkLeft" : "integer"
      }
    },
    "ENV_Pitman_Tip_blinking_short" : {
      "operationName" : "ENV_Pitman_Tip_blinking_short",
      "parameterNames" : [ "newPos" ],
      "outputParameterNames" : [ ],
      "topLevel" : true,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "BLINK_CYCLE_COUNTER", "BLINK_DIRECTION", "PITMAN_TIP_BLINKING", "active_blinkers", "blinkLeft", "blinkRight", "cycleMaxLampStatus", "engineOn", "hazardWarningSwitchOn", "lamp_off", "onCycle", "pitmanArmUpDown", "pitman_direction", "remaining_blinks" ],
      "writtenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "pitmanArmUpDown", "remaining_blinks" ],
      "nonDetWrittenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "remaining_blinks" ],
      "typeMap" : {
        "engineOn" : "boolean",
        "pitmanArmUpDown" : "global('PITMAN_POSITION')",
        "remaining_blinks" : "integer",
        "'BLINK_CYCLE_COUNTER'" : "set(integer)",
        "cycleMaxLampStatus" : "set(couple(boolean,integer))",
        "'BLINK_DIRECTION'" : "set(global('DIRECTIONS'))",
        "active_blinkers" : "set(global('DIRECTIONS'))",
        "newPos" : "global('PITMAN_POSITION')",
        "blinkRight" : "integer",
        "pitman_direction" : "set(couple(global('PITMAN_POSITION'),global('DIRECTIONS')))",
        "onCycle" : "boolean",
        "lamp_off" : "integer",
        "'PITMAN_TIP_BLINKING'" : "set(global('PITMAN_POSITION'))",
        "hazardWarningSwitchOn" : "global('SWITCH_STATUS')",
        "blinkLeft" : "integer"
      }
    },
    "TIME_Tip_blinking_Timeout" : {
      "operationName" : "TIME_Tip_blinking_Timeout",
      "parameterNames" : [ ],
      "outputParameterNames" : [ ],
      "topLevel" : true,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "BLINK_CYCLE_COUNTER", "PITMAN_TIP_BLINKING", "active_blinkers", "pitmanArmUpDown", "pitman_direction", "remaining_blinks" ],
      "writtenVariables" : [ "remaining_blinks" ],
      "nonDetWrittenVariables" : [ ],
      "typeMap" : {
        "pitman_direction" : "set(couple(global('PITMAN_POSITION'),global('DIRECTIONS')))",
        "pitmanArmUpDown" : "global('PITMAN_POSITION')",
        "'PITMAN_TIP_BLINKING'" : "set(global('PITMAN_POSITION'))",
        "remaining_blinks" : "integer",
        "'BLINK_CYCLE_COUNTER'" : "set(integer)",
        "active_blinkers" : "set(global('DIRECTIONS'))"
      }
    },
    "ENV_Hazard_blinking" : {
      "operationName" : "ENV_Hazard_blinking",
      "parameterNames" : [ "newSwitchPos" ],
      "outputParameterNames" : [ ],
      "topLevel" : true,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "BLINK_CYCLE_COUNTER", "BLINK_DIRECTION", "PITMAN_DIRECTION_BLINKING", "cycleMaxLampStatus", "engineOn", "hazardWarningSwitchOn", "lamp_off", "onCycle", "pitmanArmUpDown", "pitman_direction", "remaining_blinks" ],
      "writtenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "hazardWarningSwitchOn", "remaining_blinks" ],
      "nonDetWrittenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "remaining_blinks" ],
      "typeMap" : {
        "engineOn" : "boolean",
        "pitmanArmUpDown" : "global('PITMAN_POSITION')",
        "remaining_blinks" : "integer",
        "'BLINK_CYCLE_COUNTER'" : "set(integer)",
        "cycleMaxLampStatus" : "set(couple(boolean,integer))",
        "'BLINK_DIRECTION'" : "set(global('DIRECTIONS'))",
        "active_blinkers" : "set(global('DIRECTIONS'))",
        "blinkRight" : "integer",
        "pitman_direction" : "set(couple(global('PITMAN_POSITION'),global('DIRECTIONS')))",
        "newSwitchPos" : "global('SWITCH_STATUS')",
        "'PITMAN_DIRECTION_BLINKING'" : "set(global('PITMAN_POSITION'))",
        "onCycle" : "boolean",
        "lamp_off" : "integer",
        "hazardWarningSwitchOn" : "global('SWITCH_STATUS')",
        "blinkLeft" : "integer"
      }
    },
    "SET_AllBlinkersOff" : {
      "operationName" : "SET_AllBlinkersOff",
      "parameterNames" : [ ],
      "outputParameterNames" : [ ],
      "topLevel" : false,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "lamp_off" ],
      "writtenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "remaining_blinks" ],
      "nonDetWrittenVariables" : [ ],
      "typeMap" : {
        "blinkRight" : "integer",
        "remaining_blinks" : "integer",
        "lamp_off" : "integer",
        "active_blinkers" : "set(global('DIRECTIONS'))",
        "blinkLeft" : "integer"
      }
    },
    "SET_AllBlinkersOn" : {
      "operationName" : "SET_AllBlinkersOn",
      "parameterNames" : [ ],
      "outputParameterNames" : [ ],
      "topLevel" : false,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "BLINK_DIRECTION", "cycleMaxLampStatus", "onCycle" ],
      "writtenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "remaining_blinks" ],
      "nonDetWrittenVariables" : [ ],
      "typeMap" : {
        "blinkRight" : "integer",
        "onCycle" : "boolean",
        "remaining_blinks" : "integer",
        "cycleMaxLampStatus" : "set(couple(boolean,integer))",
        "'BLINK_DIRECTION'" : "set(global('DIRECTIONS'))",
        "active_blinkers" : "set(global('DIRECTIONS'))",
        "blinkLeft" : "integer"
      }
    },
    "SET_BlinkersOn" : {
      "operationName" : "SET_BlinkersOn",
      "parameterNames" : [ "direction", "rem" ],
      "outputParameterNames" : [ ],
      "topLevel" : false,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "BLINK_CYCLE_COUNTER", "BLINK_DIRECTION", "cycleMaxLampStatus", "lamp_off", "onCycle" ],
      "writtenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "remaining_blinks" ],
      "nonDetWrittenVariables" : [ "blinkLeft", "blinkRight" ],
      "typeMap" : {
        "blinkRight" : "integer",
        "onCycle" : "boolean",
        "remaining_blinks" : "integer",
        "lamp_off" : "integer",
        "cycleMaxLampStatus" : "set(couple(boolean,integer))",
        "rem" : "integer",
        "'BLINK_CYCLE_COUNTER'" : "set(integer)",
        "'BLINK_DIRECTION'" : "set(global('DIRECTIONS'))",
        "active_blinkers" : "set(global('DIRECTIONS'))",
        "direction" : "global('DIRECTIONS')",
        "blinkLeft" : "integer"
      }
    },
    "SET_RemainingBlinks" : {
      "operationName" : "SET_RemainingBlinks",
      "parameterNames" : [ "rem" ],
      "outputParameterNames" : [ ],
      "topLevel" : false,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "BLINK_CYCLE_COUNTER", "remaining_blinks" ],
      "writtenVariables" : [ "remaining_blinks" ],
      "nonDetWrittenVariables" : [ ],
      "typeMap" : {
        "remaining_blinks" : "integer",
        "rem" : "integer",
        "'BLINK_CYCLE_COUNTER'" : "set(integer)"
      }
    },
    "TIME_BlinkerOn" : {
      "operationName" : "TIME_BlinkerOn",
      "parameterNames" : [ ],
      "outputParameterNames" : [ ],
      "topLevel" : true,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "lamp_off", "lamp_on", "remaining_blinks" ],
      "writtenVariables" : [ "blinkLeft", "blinkRight", "onCycle", "remaining_blinks" ],
      "nonDetWrittenVariables" : [ "blinkLeft", "blinkRight", "remaining_blinks" ],
      "typeMap" : {
        "blinkRight" : "integer",
        "onCycle" : "boolean",
        "remaining_blinks" : "integer",
        "lamp_off" : "integer",
        "lamp_on" : "integer",
        "active_blinkers" : "set(global('DIRECTIONS'))",
        "blinkLeft" : "integer"
      }
    },
    "TIME_BlinkerOff" : {
      "operationName" : "TIME_BlinkerOff",
      "parameterNames" : [ ],
      "outputParameterNames" : [ ],
      "topLevel" : true,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "lamp_off", "remaining_blinks" ],
      "writtenVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "onCycle" ],
      "nonDetWrittenVariables" : [ "active_blinkers" ],
      "typeMap" : {
        "blinkRight" : "integer",
        "onCycle" : "boolean",
        "remaining_blinks" : "integer",
        "lamp_off" : "integer",
        "active_blinkers" : "set(global('DIRECTIONS'))",
        "blinkLeft" : "integer"
      }
    },
    "TIME_Nothing" : {
      "operationName" : "TIME_Nothing",
      "parameterNames" : [ "newOnCycle" ],
      "outputParameterNames" : [ ],
      "topLevel" : true,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "active_blinkers", "blinkLeft", "blinkRight", "lamp_off" ],
      "writtenVariables" : [ "onCycle" ],
      "nonDetWrittenVariables" : [ ],
      "typeMap" : {
        "blinkRight" : "integer",
        "newOnCycle" : "boolean",
        "onCycle" : "boolean",
        "lamp_off" : "integer",
        "active_blinkers" : "set(global('DIRECTIONS'))",
        "blinkLeft" : "integer"
      }
    },
    "SET_EngineOn" : {
      "operationName" : "SET_EngineOn",
      "parameterNames" : [ ],
      "outputParameterNames" : [ ],
      "topLevel" : false,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "engineOn", "keyState" ],
      "writtenVariables" : [ "engineOn" ],
      "nonDetWrittenVariables" : [ ],
      "typeMap" : {
        "engineOn" : "boolean",
        "keyState" : "global('KEY_STATE')"
      }
    },
    "SET_EngineOff" : {
      "operationName" : "SET_EngineOff",
      "parameterNames" : [ ],
      "outputParameterNames" : [ ],
      "topLevel" : false,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "engineOn" ],
      "writtenVariables" : [ "engineOn" ],
      "nonDetWrittenVariables" : [ ],
      "typeMap" : {
        "engineOn" : "boolean"
      }
    },
    "SET_Pitman_DirectionBlinking" : {
      "operationName" : "SET_Pitman_DirectionBlinking",
      "parameterNames" : [ "newPos" ],
      "outputParameterNames" : [ ],
      "topLevel" : false,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "PITMAN_DIRECTION_BLINKING", "pitmanArmUpDown" ],
      "writtenVariables" : [ "pitmanArmUpDown" ],
      "nonDetWrittenVariables" : [ ],
      "typeMap" : {
        "'PITMAN_DIRECTION_BLINKING'" : "set(global('PITMAN_POSITION'))",
        "pitmanArmUpDown" : "global('PITMAN_POSITION')",
        "newPos" : "global('PITMAN_POSITION')"
      }
    },
    "SET_Pitman_Reset_to_Neutral" : {
      "operationName" : "SET_Pitman_Reset_to_Neutral",
      "parameterNames" : [ ],
      "outputParameterNames" : [ ],
      "topLevel" : false,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "pitmanArmUpDown" ],
      "writtenVariables" : [ "pitmanArmUpDown" ],
      "nonDetWrittenVariables" : [ ],
      "typeMap" : {
        "pitmanArmUpDown" : "global('PITMAN_POSITION')"
      }
    },
    "SET_Pitman_Tip_blinking_short" : {
      "operationName" : "SET_Pitman_Tip_blinking_short",
      "parameterNames" : [ "newPos" ],
      "outputParameterNames" : [ ],
      "topLevel" : false,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "PITMAN_TIP_BLINKING", "pitmanArmUpDown" ],
      "writtenVariables" : [ "pitmanArmUpDown" ],
      "nonDetWrittenVariables" : [ ],
      "typeMap" : {
        "pitmanArmUpDown" : "global('PITMAN_POSITION')",
        "'PITMAN_TIP_BLINKING'" : "set(global('PITMAN_POSITION'))",
        "newPos" : "global('PITMAN_POSITION')"
      }
    },
    "SET_Hazard_blinking" : {
      "operationName" : "SET_Hazard_blinking",
      "parameterNames" : [ "newSwitchPos" ],
      "outputParameterNames" : [ ],
      "topLevel" : false,
      "type" : "CLASSICAL_B",
      "readVariables" : [ "hazardWarningSwitchOn" ],
      "writtenVariables" : [ "hazardWarningSwitchOn" ],
      "nonDetWrittenVariables" : [ ],
      "typeMap" : {
        "newSwitchPos" : "global('SWITCH_STATUS')",
        "hazardWarningSwitchOn" : "global('SWITCH_STATUS')"
      }
    }
  },
  "constantNames" : [ "pitman_direction", "BLINK_DIRECTION", "LAMP_STATUS", "lamp_on", "lamp_off", "BLINK_CYCLE_COUNTER", "cycleMaxLampStatus", "PITMAN_DIRECTION_BLINKING", "PITMAN_TIP_BLINKING" ],
  "setNames" : [ "DIRECTIONS", "SWITCH_STATUS", "PITMAN_POSITION", "KEY_STATE" ],
  "metaData" : {
    "type" : "TraceMetaData",
    "formatVersion" : 1,
    "savedAt" : [ 2021, 2, 10, 13, 22, 2, 718671000 ],
    "creator" : "USER",
    "proBCliVersion" : "1.10.0-nightly",
    "name" : "HALLO",
    "path" : "PitmanController_v6.mch",
    "proB2KernelVersion" : "4.0.0-SNAPSHOT"
  }
}